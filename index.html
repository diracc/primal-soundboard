<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Primal soundboard</title>
    <style>

        body {
            background-color: #020304;
            color: #fff;
        }

        body,
        button {
            font-family: Arial, Helvetica, sans-serif;
        }

        button {
            background: transparent;
            border: none;
            color: orange;
            cursor: pointer;
            display: inline-block;
            font-size: 2rem;
            margin-right: 1em;
            padding: 0;
            text-align: left;
            text-decoration: none;
            transition: transform .3s;
        }

        button:hover, button:focus, button:active {
            -webkit-transform: scale(1.1) rotate(4deg);
            transform: scale(1.1) rotate(4deg);
        }

        h1 {
            font-size: 2rem;
            font-weight: normal;
            text-align: center;
            margin: 1em 0 0;
        }

        #wrapper {
            margin: auto;
            max-width: 50em;
        }

        #info {
            background-color: #0dcaf0;
            border-radius: .25em;
            color: #242424;
            margin: 1em 0;
            padding: .5em;
        }

        #info svg {
            vertical-align: middle;
        }

        #buttons {
            padding: 0 1em;
        }

        @media (max-width: 400px) {
            h1 span {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <h1><span>ðŸ¥©</span> Primal soundboard <span>ðŸ”Š</span></h1>
    
    <div id="wrapper">
        <div id="info"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-info-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <circle cx="12" cy="12" r="9"></circle>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
            <polyline points="11 12 12 12 12 16 13 16"></polyline>
         </svg> Click to play, double-click to download</div>
         <div id="buttons"></div>
    </div>
    <audio id="audio"></audio>
    <script>
        const buttons = document.getElementById("buttons");
        const audio = document.getElementById("audio");
        const sounds = [
            "eat-raw-meat-to-kill-myself",
            "adept-biochemist",
            "consooming",
            "definition-of-mental-illness",
            "different-level-of-mental-illness",
            "funny-or-mentally-ill",
            "good-healthy-nutrients",
            "if-this-is-not-mental-illness",
            "mentally-ill",
            "monkey-out",
            "not-able-to-sue",
            "over-15-nutrients",
            "raw-milk",
            "severe-mental-illness",
            "vaccine",
            "we-are-bacteria",
            "we-are-not-plants"
        ];
        let activeSound = null;
        let timer = 0;
        let clicked = false;

        sounds.forEach(function (sound) {
            let button = document.createElement("button");
            button.innerText = sound;
            button.addEventListener("click", function () {
                if (clicked) {
                    clearTimeout(timer);
                    downloadSound(sound);
                    clicked = false;
                } else {
                    clicked = true;
                    timer = setTimeout(function () {
                        playSound(sound);
                        clicked = false;
                    }, 200);
                }
            });
            buttons.appendChild(button);
        });
        
        function playSound(sound) {
            if (activeSound) {
                activeSound.pause();
                activeSound.currentTime = 0;
            }

            audio.src = `sounds/${sound}.mp3`;
            audio.play();
            activeSound = audio;
        }

        function downloadSound(sound) {
            const dl = document.createElement("a");
            dl.href = `sounds/${sound}.mp3`;
            dl.download = `${sound}.mp3`;
            dl.style.display = "none";
            document.body.appendChild(dl);
            dl.click();
            dl.remove();
        }

    </script>
</body>
</html>